<template language="js-template">
    <extend-head>
        <title>${_t("Hier kannst du dich einloggen")}</title>
    </extend-head>
    <page>
        <topmenu-component data-name="/$topmenu"></topmenu-component>

        <h1>Hallo from login</h1>
        <section>
            <form>
                <label for="age">Alter</label>
                <input id="age" type="number" data-name="/$user/age" />

                <label for="birthday">Geburtsdatum</label>
                <input id="birthday" data-name="/$user/birthday" type="date" />

                <label for="bname">Benutzername</label>
                <input id="bname" data-name="/$user/bname" required />

                <label for="passwd">Passwort</label>
                <input type="password" data-name="/$user/password" id="passwd" required />

                <button type="submit">Anmelden</button>
            </form>
        </section>

        <footer class="info">
            <p>Double-click to edit a todo</p>
            <p>Written by <a href="http://twitter.com/lukeed05">Luke Edwards</a></p>
            <p>Refactored by <a href="https://github.com/xorgy">Aaron Muir
                    Hamilton</a></p>
            <p>Part of <a href="http://todomvc.com">TodoMVC</a></p>
        </footer>
    </page>
</template>

<style language="scss">

</style>

<script language="js">

    import { topmenu } from '../component/topmenu';
    import { magic_form } from '../middleware/magic_form';
    import { mail_validator } from '../middleware/validator/email';

    export let login = {
        components: { "topmenu-component": topmenu },
        data() {
            return this.createStore("user", { name: "user login" }).addValidations({mail_validator: mail_validator});
        },
        interactions() {
            return magic_form.call(this, {}, function (data) {

                console.log("CHANGEEEEEEEEEEEEEEEEEE BACKEND SYNC", data)

            }, 1000);
        },
        translations(language) {
            return {};
        }
    }
</script>