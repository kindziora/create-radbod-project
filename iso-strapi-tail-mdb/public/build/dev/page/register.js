

  import  { magic_form }  from "../middleware/magicForm.js";
  import  { mail_validator }  from "../middleware/validator/email.js";
  import  { wordlength_validator }  from "../middleware/validator/wordlength.js";
  import  { required_validator }  from "../middleware/validator/required.js";
  import  { getParent }  from "../middleware/domHelper.js";
  import  { countWords }  from "../middleware/textHelper.js";
  import  { modal }  from "../component/modal.js";
  import  cookie  from "../deps/cookie.js";

  export let register = {
        views : {
                   'register-e-1' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<title>${_t("Hier kannst du dich registrieren")}</title>`},
                   'register-e-2' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${_t("Hier kannst du dich registrieren")}`},
                   'register-e-3' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<topmenu-component data-name="/$topmenu"></topmenu-component> <section> <form id="register"> <modal-component data-name="/$modal"></modal-component> <div class="step1 stepTab show"> <h2>${_t('Persönliche Daten')}</h2> <div class="container"> <div class="item biefroest"> <div class="triangle-right"></div> </div> <div class="item"> <label for="vname">${_t('Vorname')}</label> <input id="vname" data-name="/$user/forename" name="forename" value="${user.forename}" tabindex="0" required data-validations="required_validator"> <label for="street">${_t('Straße')}</label> <div class="address"> <input id="street" name="street" placeholder="${_t('Straßenname')}" value="${user.street}" data-name="/$user/street" required data-validations="required_validator"> <input id="nr" name="number" placeholder="${_t('Nr.')}" type="number" value="${user.nr}" data-name="/$user/nr" required data-validations="required_validator"> </div> <label for="country">${_t('Land')}</label> <select id="country" name="country" data-name="/$user/country" required data-validations="required_validator"></select> <label for="bname">${_t('Benutzername')}</label> <input id="bname" name="username" data-name="/$user/username" required value="${user.username}" data-validations="required_validator"> <label for="passwd">${_t('Passwort')}</label> <input type="password" data-validations="required_validator" data-name="/$user/password" id="passwd" required pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,12}$"> </div> <div class="item"> <label for="nname">${_t('Nachname')}</label> <input id="nname" name="surname" data-name="/$user/surname" required value="${user.surname}" data-validations="required_validator"> <label for="street">${_t('Wo?')}</label> <div class="location"> <input id="pcode" name="postalcode" placeholder="${_t('PLZ')}" data-name="/$user/pcode" type="number" value="${user.pcode}" required data-validations="required_validator"> <input id="city" name="city" placeholder="${_t('Stadt')}" data-name="/$user/city" required value="${user.city}" data-validations="required_validator"> </div> <label for="birthday">${_t('Geburtsdatum')}</label> <input id="birthday" name="birthday" data-name="/$user/birthday" type="date" value="${user.date}"> <label for="email">${_t('E-Mail')}</label> <input id="email" name="email" type="email" data-name="/$user/email" required value="${user.email}" data-validations="mail_validator,required_validator"> <span data-name="/_state/$user/email" class="msg ${ change.value.msg ? 'error':''}">${ change.value.msg ? change.value.msg.map(function(e){return e}) : "" }</span> <label for="passwdr">${_t('Passwort wiederholen')}</label> <input type="password" data-validations="required_validator" data-name="/$user/passwordr" id="passwdr" required pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,12}$"> </div> </div> </div> <div class="step2 stepTab"> <h2>${_t('Fähigkeiten')}</h2> <div class="container"> <div class="item biefroest"> <div class="triangle-right"></div> </div> <div class="item"> <label for="skills">${_t('Lieblings-Themen')}</label> <select multiple id="skills" name="skills" data-name="/$user/skills" required data-validations="required_validator"></select> <label for="skills">${_t('SEO Erfahrung')} <span class="seometer" data-name="/$user/seoLevel" data-view="seometer">${_t('keine')}</span></label> <div class="slidecontainer"> <input type="range" min="1" max="100" value="${user.seoLevel}" data-name="/$user/seoLevel" class="slider" id="myRange"> </div> </div> <div class="item"> <label for="langs">${_t('Sprachen')}</label> <select multiple id="langs" name="langs" data-name="/$user/langs"></select> <label for="refs">${_t('Erfahrung mit Texten')}</label> <select multiple id="refs" name="refs" data-name="/$user/refs"></select> <div data-name="/$user/refs" data-view="refsList" data-type="list"></div> </div> </div> </div> <div class="step3 stepTab"> <h2>${_t('Kurzer Text')}</h2> <p><i>${_t('Bitte schreibe uns doch ein paar Worte damit wir deine Fähigkeiten besser')} <strong>${_t('einschätzen')}</strong> ${_t('können.')}</i></p> <hr> <div class="topic-container"> <select data-events="variante:change"> <option value="0">${_t('Reiseort deiner Wahl')}</option> <option value="1">${_t('online-shop deiner Wahl')}</option> <option value="2">${_t('Firma deiner Wahl')}</option> </select> <div data-name="/$user/topicInfo" class="infos"> <div><label>Typ:</label><i>${change.value.type}</i></div> <div><label>Thema:</label><i>${change.value.name}</i></div> <div><label>Länge:</label><i>${change.value.wordrange}</i></div> <div><label>Keyword:</label><i>${change.value.keyword}</i></div> <div><label>Schreibstil:</label><i>${change.value.style}</i></div> <div><label>Zielgruppe:</label><i>${change.value.aim}</i></div> </div> </div> <hr> <textarea class="sample-text" data-name="/$user/sampletext" data-validations="wordlength_validator" placeholder="Keine Angst, es ist noch kein Meister vom Himmel gefallen!"></textarea> <span data-name="/$user/sampletext" data-view="wordcount"></span> <span data-name="/_state/$user/sampletext">${change.value.msg}</span> </div> <div> <div class="step-container s"> <span class="step active" data-index="1" data-events="step:click">${_t('1')}</span> <span class="step" data-index="2" data-events="step:click">${_t('2')}</span> <span class="step" data-index="3" data-events="step:click">${_t('3')}</span> </div> </div> <div class="button-container"> <button type="submit" data-name="/$user/submit">${_t('Absenden')}</button> </div> </form> </section> <bottommenu-component data-name="/$bottommenu"></bottommenu-component>`},
                   'register-e-5' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<form id="register"> <modal-component data-name="/$modal"></modal-component> <div class="step1 stepTab show"> <h2>${_t('Persönliche Daten')}</h2> <div class="container"> <div class="item biefroest"> <div class="triangle-right"></div> </div> <div class="item"> <label for="vname">${_t('Vorname')}</label> <input id="vname" data-name="/$user/forename" name="forename" value="${user.forename}" tabindex="0" required data-validations="required_validator"> <label for="street">${_t('Straße')}</label> <div class="address"> <input id="street" name="street" placeholder="${_t('Straßenname')}" value="${user.street}" data-name="/$user/street" required data-validations="required_validator"> <input id="nr" name="number" placeholder="${_t('Nr.')}" type="number" value="${user.nr}" data-name="/$user/nr" required data-validations="required_validator"> </div> <label for="country">${_t('Land')}</label> <select id="country" name="country" data-name="/$user/country" required data-validations="required_validator"></select> <label for="bname">${_t('Benutzername')}</label> <input id="bname" name="username" data-name="/$user/username" required value="${user.username}" data-validations="required_validator"> <label for="passwd">${_t('Passwort')}</label> <input type="password" data-validations="required_validator" data-name="/$user/password" id="passwd" required pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,12}$"> </div> <div class="item"> <label for="nname">${_t('Nachname')}</label> <input id="nname" name="surname" data-name="/$user/surname" required value="${user.surname}" data-validations="required_validator"> <label for="street">${_t('Wo?')}</label> <div class="location"> <input id="pcode" name="postalcode" placeholder="${_t('PLZ')}" data-name="/$user/pcode" type="number" value="${user.pcode}" required data-validations="required_validator"> <input id="city" name="city" placeholder="${_t('Stadt')}" data-name="/$user/city" required value="${user.city}" data-validations="required_validator"> </div> <label for="birthday">${_t('Geburtsdatum')}</label> <input id="birthday" name="birthday" data-name="/$user/birthday" type="date" value="${user.date}"> <label for="email">${_t('E-Mail')}</label> <input id="email" name="email" type="email" data-name="/$user/email" required value="${user.email}" data-validations="mail_validator,required_validator"> <span data-name="/_state/$user/email" class="msg ${ change.value.msg ? 'error':''}">${ change.value.msg ? change.value.msg.map(function(e){return e}) : "" }</span> <label for="passwdr">${_t('Passwort wiederholen')}</label> <input type="password" data-validations="required_validator" data-name="/$user/passwordr" id="passwdr" required pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,12}$"> </div> </div> </div> <div class="step2 stepTab"> <h2>${_t('Fähigkeiten')}</h2> <div class="container"> <div class="item biefroest"> <div class="triangle-right"></div> </div> <div class="item"> <label for="skills">${_t('Lieblings-Themen')}</label> <select multiple id="skills" name="skills" data-name="/$user/skills" required data-validations="required_validator"></select> <label for="skills">${_t('SEO Erfahrung')} <span class="seometer" data-name="/$user/seoLevel" data-view="seometer">${_t('keine')}</span></label> <div class="slidecontainer"> <input type="range" min="1" max="100" value="${user.seoLevel}" data-name="/$user/seoLevel" class="slider" id="myRange"> </div> </div> <div class="item"> <label for="langs">${_t('Sprachen')}</label> <select multiple id="langs" name="langs" data-name="/$user/langs"></select> <label for="refs">${_t('Erfahrung mit Texten')}</label> <select multiple id="refs" name="refs" data-name="/$user/refs"></select> <div data-name="/$user/refs" data-view="refsList" data-type="list"></div> </div> </div> </div> <div class="step3 stepTab"> <h2>${_t('Kurzer Text')}</h2> <p><i>${_t('Bitte schreibe uns doch ein paar Worte damit wir deine Fähigkeiten besser')} <strong>${_t('einschätzen')}</strong> ${_t('können.')}</i></p> <hr> <div class="topic-container"> <select data-events="variante:change"> <option value="0">${_t('Reiseort deiner Wahl')}</option> <option value="1">${_t('online-shop deiner Wahl')}</option> <option value="2">${_t('Firma deiner Wahl')}</option> </select> <div data-name="/$user/topicInfo" class="infos"> <div><label>Typ:</label><i>${change.value.type}</i></div> <div><label>Thema:</label><i>${change.value.name}</i></div> <div><label>Länge:</label><i>${change.value.wordrange}</i></div> <div><label>Keyword:</label><i>${change.value.keyword}</i></div> <div><label>Schreibstil:</label><i>${change.value.style}</i></div> <div><label>Zielgruppe:</label><i>${change.value.aim}</i></div> </div> </div> <hr> <textarea class="sample-text" data-name="/$user/sampletext" data-validations="wordlength_validator" placeholder="Keine Angst, es ist noch kein Meister vom Himmel gefallen!"></textarea> <span data-name="/$user/sampletext" data-view="wordcount"></span> <span data-name="/_state/$user/sampletext">${change.value.msg}</span> </div> <div> <div class="step-container s"> <span class="step active" data-index="1" data-events="step:click">${_t('1')}</span> <span class="step" data-index="2" data-events="step:click">${_t('2')}</span> <span class="step" data-index="3" data-events="step:click">${_t('3')}</span> </div> </div> <div class="button-container"> <button type="submit" data-name="/$user/submit">${_t('Absenden')}</button> </div> </form>`},
                   'register-e-6' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<modal-component data-name="/$modal"></modal-component> <div class="step1 stepTab show"> <h2>${_t('Persönliche Daten')}</h2> <div class="container"> <div class="item biefroest"> <div class="triangle-right"></div> </div> <div class="item"> <label for="vname">${_t('Vorname')}</label> <input id="vname" data-name="/$user/forename" name="forename" value="${user.forename}" tabindex="0" required data-validations="required_validator"> <label for="street">${_t('Straße')}</label> <div class="address"> <input id="street" name="street" placeholder="${_t('Straßenname')}" value="${user.street}" data-name="/$user/street" required data-validations="required_validator"> <input id="nr" name="number" placeholder="${_t('Nr.')}" type="number" value="${user.nr}" data-name="/$user/nr" required data-validations="required_validator"> </div> <label for="country">${_t('Land')}</label> <select id="country" name="country" data-name="/$user/country" required data-validations="required_validator"></select> <label for="bname">${_t('Benutzername')}</label> <input id="bname" name="username" data-name="/$user/username" required value="${user.username}" data-validations="required_validator"> <label for="passwd">${_t('Passwort')}</label> <input type="password" data-validations="required_validator" data-name="/$user/password" id="passwd" required pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,12}$"> </div> <div class="item"> <label for="nname">${_t('Nachname')}</label> <input id="nname" name="surname" data-name="/$user/surname" required value="${user.surname}" data-validations="required_validator"> <label for="street">${_t('Wo?')}</label> <div class="location"> <input id="pcode" name="postalcode" placeholder="${_t('PLZ')}" data-name="/$user/pcode" type="number" value="${user.pcode}" required data-validations="required_validator"> <input id="city" name="city" placeholder="${_t('Stadt')}" data-name="/$user/city" required value="${user.city}" data-validations="required_validator"> </div> <label for="birthday">${_t('Geburtsdatum')}</label> <input id="birthday" name="birthday" data-name="/$user/birthday" type="date" value="${user.date}"> <label for="email">${_t('E-Mail')}</label> <input id="email" name="email" type="email" data-name="/$user/email" required value="${user.email}" data-validations="mail_validator,required_validator"> <span data-name="/_state/$user/email" class="msg ${ change.value.msg ? 'error':''}">${ change.value.msg ? change.value.msg.map(function(e){return e}) : "" }</span> <label for="passwdr">${_t('Passwort wiederholen')}</label> <input type="password" data-validations="required_validator" data-name="/$user/passwordr" id="passwdr" required pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,12}$"> </div> </div> </div> <div class="step2 stepTab"> <h2>${_t('Fähigkeiten')}</h2> <div class="container"> <div class="item biefroest"> <div class="triangle-right"></div> </div> <div class="item"> <label for="skills">${_t('Lieblings-Themen')}</label> <select multiple id="skills" name="skills" data-name="/$user/skills" required data-validations="required_validator"></select> <label for="skills">${_t('SEO Erfahrung')} <span class="seometer" data-name="/$user/seoLevel" data-view="seometer">${_t('keine')}</span></label> <div class="slidecontainer"> <input type="range" min="1" max="100" value="${user.seoLevel}" data-name="/$user/seoLevel" class="slider" id="myRange"> </div> </div> <div class="item"> <label for="langs">${_t('Sprachen')}</label> <select multiple id="langs" name="langs" data-name="/$user/langs"></select> <label for="refs">${_t('Erfahrung mit Texten')}</label> <select multiple id="refs" name="refs" data-name="/$user/refs"></select> <div data-name="/$user/refs" data-view="refsList" data-type="list"></div> </div> </div> </div> <div class="step3 stepTab"> <h2>${_t('Kurzer Text')}</h2> <p><i>${_t('Bitte schreibe uns doch ein paar Worte damit wir deine Fähigkeiten besser')} <strong>${_t('einschätzen')}</strong> ${_t('können.')}</i></p> <hr> <div class="topic-container"> <select data-events="variante:change"> <option value="0">${_t('Reiseort deiner Wahl')}</option> <option value="1">${_t('online-shop deiner Wahl')}</option> <option value="2">${_t('Firma deiner Wahl')}</option> </select> <div data-name="/$user/topicInfo" class="infos"> <div><label>Typ:</label><i>${change.value.type}</i></div> <div><label>Thema:</label><i>${change.value.name}</i></div> <div><label>Länge:</label><i>${change.value.wordrange}</i></div> <div><label>Keyword:</label><i>${change.value.keyword}</i></div> <div><label>Schreibstil:</label><i>${change.value.style}</i></div> <div><label>Zielgruppe:</label><i>${change.value.aim}</i></div> </div> </div> <hr> <textarea class="sample-text" data-name="/$user/sampletext" data-validations="wordlength_validator" placeholder="Keine Angst, es ist noch kein Meister vom Himmel gefallen!"></textarea> <span data-name="/$user/sampletext" data-view="wordcount"></span> <span data-name="/_state/$user/sampletext">${change.value.msg}</span> </div> <div> <div class="step-container s"> <span class="step active" data-index="1" data-events="step:click">${_t('1')}</span> <span class="step" data-index="2" data-events="step:click">${_t('2')}</span> <span class="step" data-index="3" data-events="step:click">${_t('3')}</span> </div> </div> <div class="button-container"> <button type="submit" data-name="/$user/submit">${_t('Absenden')}</button> </div>`},
                   'register-e-8' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<h2>${_t('Persönliche Daten')}</h2> <div class="container"> <div class="item biefroest"> <div class="triangle-right"></div> </div> <div class="item"> <label for="vname">${_t('Vorname')}</label> <input id="vname" data-name="/$user/forename" name="forename" value="${user.forename}" tabindex="0" required data-validations="required_validator"> <label for="street">${_t('Straße')}</label> <div class="address"> <input id="street" name="street" placeholder="${_t('Straßenname')}" value="${user.street}" data-name="/$user/street" required data-validations="required_validator"> <input id="nr" name="number" placeholder="${_t('Nr.')}" type="number" value="${user.nr}" data-name="/$user/nr" required data-validations="required_validator"> </div> <label for="country">${_t('Land')}</label> <select id="country" name="country" data-name="/$user/country" required data-validations="required_validator"></select> <label for="bname">${_t('Benutzername')}</label> <input id="bname" name="username" data-name="/$user/username" required value="${user.username}" data-validations="required_validator"> <label for="passwd">${_t('Passwort')}</label> <input type="password" data-validations="required_validator" data-name="/$user/password" id="passwd" required pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,12}$"> </div> <div class="item"> <label for="nname">${_t('Nachname')}</label> <input id="nname" name="surname" data-name="/$user/surname" required value="${user.surname}" data-validations="required_validator"> <label for="street">${_t('Wo?')}</label> <div class="location"> <input id="pcode" name="postalcode" placeholder="${_t('PLZ')}" data-name="/$user/pcode" type="number" value="${user.pcode}" required data-validations="required_validator"> <input id="city" name="city" placeholder="${_t('Stadt')}" data-name="/$user/city" required value="${user.city}" data-validations="required_validator"> </div> <label for="birthday">${_t('Geburtsdatum')}</label> <input id="birthday" name="birthday" data-name="/$user/birthday" type="date" value="${user.date}"> <label for="email">${_t('E-Mail')}</label> <input id="email" name="email" type="email" data-name="/$user/email" required value="${user.email}" data-validations="mail_validator,required_validator"> <span data-name="/_state/$user/email" class="msg ${ change.value.msg ? 'error':''}">${ change.value.msg ? change.value.msg.map(function(e){return e}) : "" }</span> <label for="passwdr">${_t('Passwort wiederholen')}</label> <input type="password" data-validations="required_validator" data-name="/$user/passwordr" id="passwdr" required pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,12}$"> </div> </div>`},
                   'register-e-9' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${_t('Persönliche Daten')}`},
                   'register-e-10' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<div class="item biefroest"> <div class="triangle-right"></div> </div> <div class="item"> <label for="vname">${_t('Vorname')}</label> <input id="vname" data-name="/$user/forename" name="forename" value="${user.forename}" tabindex="0" required data-validations="required_validator"> <label for="street">${_t('Straße')}</label> <div class="address"> <input id="street" name="street" placeholder="${_t('Straßenname')}" value="${user.street}" data-name="/$user/street" required data-validations="required_validator"> <input id="nr" name="number" placeholder="${_t('Nr.')}" type="number" value="${user.nr}" data-name="/$user/nr" required data-validations="required_validator"> </div> <label for="country">${_t('Land')}</label> <select id="country" name="country" data-name="/$user/country" required data-validations="required_validator"></select> <label for="bname">${_t('Benutzername')}</label> <input id="bname" name="username" data-name="/$user/username" required value="${user.username}" data-validations="required_validator"> <label for="passwd">${_t('Passwort')}</label> <input type="password" data-validations="required_validator" data-name="/$user/password" id="passwd" required pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,12}$"> </div> <div class="item"> <label for="nname">${_t('Nachname')}</label> <input id="nname" name="surname" data-name="/$user/surname" required value="${user.surname}" data-validations="required_validator"> <label for="street">${_t('Wo?')}</label> <div class="location"> <input id="pcode" name="postalcode" placeholder="${_t('PLZ')}" data-name="/$user/pcode" type="number" value="${user.pcode}" required data-validations="required_validator"> <input id="city" name="city" placeholder="${_t('Stadt')}" data-name="/$user/city" required value="${user.city}" data-validations="required_validator"> </div> <label for="birthday">${_t('Geburtsdatum')}</label> <input id="birthday" name="birthday" data-name="/$user/birthday" type="date" value="${user.date}"> <label for="email">${_t('E-Mail')}</label> <input id="email" name="email" type="email" data-name="/$user/email" required value="${user.email}" data-validations="mail_validator,required_validator"> <span data-name="/_state/$user/email" class="msg ${ change.value.msg ? 'error':''}">${ change.value.msg ? change.value.msg.map(function(e){return e}) : "" }</span> <label for="passwdr">${_t('Passwort wiederholen')}</label> <input type="password" data-validations="required_validator" data-name="/$user/passwordr" id="passwdr" required pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,12}$"> </div>`},
                   'register-e-11' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<div class="triangle-right"></div>`},
                   'register-e-13' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<label for="vname">${_t('Vorname')}</label> <input id="vname" data-name="/$user/forename" name="forename" value="${user.forename}" tabindex="0" required data-validations="required_validator"> <label for="street">${_t('Straße')}</label> <div class="address"> <input id="street" name="street" placeholder="${_t('Straßenname')}" value="${user.street}" data-name="/$user/street" required data-validations="required_validator"> <input id="nr" name="number" placeholder="${_t('Nr.')}" type="number" value="${user.nr}" data-name="/$user/nr" required data-validations="required_validator"> </div> <label for="country">${_t('Land')}</label> <select id="country" name="country" data-name="/$user/country" required data-validations="required_validator"></select> <label for="bname">${_t('Benutzername')}</label> <input id="bname" name="username" data-name="/$user/username" required value="${user.username}" data-validations="required_validator"> <label for="passwd">${_t('Passwort')}</label> <input type="password" data-validations="required_validator" data-name="/$user/password" id="passwd" required pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,12}$">`},
                   'register-e-14' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${_t('Vorname')}`},
                   'register-e-16' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${_t('Straße')}`},
                   'register-e-17' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<input id="street" name="street" placeholder="${_t('Straßenname')}" value="${user.street}" data-name="/$user/street" required data-validations="required_validator"> <input id="nr" name="number" placeholder="${_t('Nr.')}" type="number" value="${user.nr}" data-name="/$user/nr" required data-validations="required_validator">`},
                   'register-e-20' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${_t('Land')}`},
                   'register-e-22' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${_t('Benutzername')}`},
                   'register-e-24' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${_t('Passwort')}`},
                   'register-e-26' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<label for="nname">${_t('Nachname')}</label> <input id="nname" name="surname" data-name="/$user/surname" required value="${user.surname}" data-validations="required_validator"> <label for="street">${_t('Wo?')}</label> <div class="location"> <input id="pcode" name="postalcode" placeholder="${_t('PLZ')}" data-name="/$user/pcode" type="number" value="${user.pcode}" required data-validations="required_validator"> <input id="city" name="city" placeholder="${_t('Stadt')}" data-name="/$user/city" required value="${user.city}" data-validations="required_validator"> </div> <label for="birthday">${_t('Geburtsdatum')}</label> <input id="birthday" name="birthday" data-name="/$user/birthday" type="date" value="${user.date}"> <label for="email">${_t('E-Mail')}</label> <input id="email" name="email" type="email" data-name="/$user/email" required value="${user.email}" data-validations="mail_validator,required_validator"> <span data-name="/_state/$user/email" class="msg ${ change.value.msg ? 'error':''}">${ change.value.msg ? change.value.msg.map(function(e){return e}) : "" }</span> <label for="passwdr">${_t('Passwort wiederholen')}</label> <input type="password" data-validations="required_validator" data-name="/$user/passwordr" id="passwdr" required pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,12}$">`},
                   'register-e-27' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${_t('Nachname')}`},
                   'register-e-29' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${_t('Wo?')}`},
                   'register-e-30' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<input id="pcode" name="postalcode" placeholder="${_t('PLZ')}" data-name="/$user/pcode" type="number" value="${user.pcode}" required data-validations="required_validator"> <input id="city" name="city" placeholder="${_t('Stadt')}" data-name="/$user/city" required value="${user.city}" data-validations="required_validator">`},
                   'register-e-33' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${_t('Geburtsdatum')}`},
                   'register-e-35' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${_t('E-Mail')}`},
                   'register-e-37' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${ change.value.msg ? change.value.msg.map(function(e){return e}) : "" }`},
                   'register-e-38' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${_t('Passwort wiederholen')}`},
                   'register-e-40' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<h2>${_t('Fähigkeiten')}</h2> <div class="container"> <div class="item biefroest"> <div class="triangle-right"></div> </div> <div class="item"> <label for="skills">${_t('Lieblings-Themen')}</label> <select multiple id="skills" name="skills" data-name="/$user/skills" required data-validations="required_validator"></select> <label for="skills">${_t('SEO Erfahrung')} <span class="seometer" data-name="/$user/seoLevel" data-view="seometer">${_t('keine')}</span></label> <div class="slidecontainer"> <input type="range" min="1" max="100" value="${user.seoLevel}" data-name="/$user/seoLevel" class="slider" id="myRange"> </div> </div> <div class="item"> <label for="langs">${_t('Sprachen')}</label> <select multiple id="langs" name="langs" data-name="/$user/langs"></select> <label for="refs">${_t('Erfahrung mit Texten')}</label> <select multiple id="refs" name="refs" data-name="/$user/refs"></select> <div data-name="/$user/refs" data-view="refsList" data-type="list"></div> </div> </div>`},
                   'register-e-41' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${_t('Fähigkeiten')}`},
                   'register-e-42' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<div class="item biefroest"> <div class="triangle-right"></div> </div> <div class="item"> <label for="skills">${_t('Lieblings-Themen')}</label> <select multiple id="skills" name="skills" data-name="/$user/skills" required data-validations="required_validator"></select> <label for="skills">${_t('SEO Erfahrung')} <span class="seometer" data-name="/$user/seoLevel" data-view="seometer">${_t('keine')}</span></label> <div class="slidecontainer"> <input type="range" min="1" max="100" value="${user.seoLevel}" data-name="/$user/seoLevel" class="slider" id="myRange"> </div> </div> <div class="item"> <label for="langs">${_t('Sprachen')}</label> <select multiple id="langs" name="langs" data-name="/$user/langs"></select> <label for="refs">${_t('Erfahrung mit Texten')}</label> <select multiple id="refs" name="refs" data-name="/$user/refs"></select> <div data-name="/$user/refs" data-view="refsList" data-type="list"></div> </div>`},
                   'register-e-43' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<div class="triangle-right"></div>`},
                   'register-e-45' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<label for="skills">${_t('Lieblings-Themen')}</label> <select multiple id="skills" name="skills" data-name="/$user/skills" required data-validations="required_validator"></select> <label for="skills">${_t('SEO Erfahrung')} <span class="seometer" data-name="/$user/seoLevel" data-view="seometer">${_t('keine')}</span></label> <div class="slidecontainer"> <input type="range" min="1" max="100" value="${user.seoLevel}" data-name="/$user/seoLevel" class="slider" id="myRange"> </div>`},
                   'register-e-46' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${_t('Lieblings-Themen')}`},
                   'register-e-48' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${_t('SEO Erfahrung')} <span class="seometer" data-name="/$user/seoLevel" data-view="seometer">${_t('keine')}</span>`},
                   'register-e-49' : function (args) {
        let { user } = args;
        let seoLevel = ["keine", "wenig", "beginner", "mittel", "fortgeschritten", "Experte"];
        return seoLevel[parseInt(user.seoLevel / (100 / (seoLevel.length - 1)))];
      },
                   'register-e-50' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<input type="range" min="1" max="100" value="${user.seoLevel}" data-name="/$user/seoLevel" class="slider" id="myRange">`},
                   'register-e-52' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<label for="langs">${_t('Sprachen')}</label> <select multiple id="langs" name="langs" data-name="/$user/langs"></select> <label for="refs">${_t('Erfahrung mit Texten')}</label> <select multiple id="refs" name="refs" data-name="/$user/refs"></select> <div data-name="/$user/refs" data-view="refsList" data-type="list"></div>`},
                   'register-e-53' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${_t('Sprachen')}`},
                   'register-e-55' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${_t('Erfahrung mit Texten')}`},
                   'register-e-57' : function (args) {
        let { change, user, _t } = args;
        return `<div data-name="/$user/refs/${change.index}" data-type="list-item" >
          <strong>${change.value}</strong> <input data-name="/$user/refsdetail/${change.index}" data-index="${change.index}" data-events="refsdetail:keyup" value="${user.refsdetail[change.index] ? user.refsdetail[change.index] : ''}" placeholder="${change.value} angeben" />
        </div>`;
      },
                   'register-e-58' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<h2>${_t('Kurzer Text')}</h2> <p><i>${_t('Bitte schreibe uns doch ein paar Worte damit wir deine Fähigkeiten besser')} <strong>${_t('einschätzen')}</strong> ${_t('können.')}</i></p> <hr> <div class="topic-container"> <select data-events="variante:change"> <option value="0">${_t('Reiseort deiner Wahl')}</option> <option value="1">${_t('online-shop deiner Wahl')}</option> <option value="2">${_t('Firma deiner Wahl')}</option> </select> <div data-name="/$user/topicInfo" class="infos"> <div><label>Typ:</label><i>${change.value.type}</i></div> <div><label>Thema:</label><i>${change.value.name}</i></div> <div><label>Länge:</label><i>${change.value.wordrange}</i></div> <div><label>Keyword:</label><i>${change.value.keyword}</i></div> <div><label>Schreibstil:</label><i>${change.value.style}</i></div> <div><label>Zielgruppe:</label><i>${change.value.aim}</i></div> </div> </div> <hr> <textarea class="sample-text" data-name="/$user/sampletext" data-validations="wordlength_validator" placeholder="Keine Angst, es ist noch kein Meister vom Himmel gefallen!"></textarea> <span data-name="/$user/sampletext" data-view="wordcount"></span> <span data-name="/_state/$user/sampletext">${change.value.msg}</span>`},
                   'register-e-59' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${_t('Kurzer Text')}`},
                   'register-e-60' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<i>${_t('Bitte schreibe uns doch ein paar Worte damit wir deine Fähigkeiten besser')} <strong>${_t('einschätzen')}</strong> ${_t('können.')}</i>`},
                   'register-e-61' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${_t('Bitte schreibe uns doch ein paar Worte damit wir deine Fähigkeiten besser')} <strong>${_t('einschätzen')}</strong> ${_t('können.')}`},
                   'register-e-62' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${_t('einschätzen')}`},
                   'register-e-64' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<select data-events="variante:change"> <option value="0">${_t('Reiseort deiner Wahl')}</option> <option value="1">${_t('online-shop deiner Wahl')}</option> <option value="2">${_t('Firma deiner Wahl')}</option> </select> <div data-name="/$user/topicInfo" class="infos"> <div><label>Typ:</label><i>${change.value.type}</i></div> <div><label>Thema:</label><i>${change.value.name}</i></div> <div><label>Länge:</label><i>${change.value.wordrange}</i></div> <div><label>Keyword:</label><i>${change.value.keyword}</i></div> <div><label>Schreibstil:</label><i>${change.value.style}</i></div> <div><label>Zielgruppe:</label><i>${change.value.aim}</i></div> </div>`},
                   'register-e-65' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<option value="0">${_t('Reiseort deiner Wahl')}</option> <option value="1">${_t('online-shop deiner Wahl')}</option> <option value="2">${_t('Firma deiner Wahl')}</option>`},
                   'register-e-66' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${_t('Reiseort deiner Wahl')}`},
                   'register-e-67' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${_t('online-shop deiner Wahl')}`},
                   'register-e-68' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${_t('Firma deiner Wahl')}`},
                   'register-e-69' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<div><label>Typ:</label><i>${change.value.type}</i></div> <div><label>Thema:</label><i>${change.value.name}</i></div> <div><label>Länge:</label><i>${change.value.wordrange}</i></div> <div><label>Keyword:</label><i>${change.value.keyword}</i></div> <div><label>Schreibstil:</label><i>${change.value.style}</i></div> <div><label>Zielgruppe:</label><i>${change.value.aim}</i></div>`},
                   'register-e-70' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<label>Typ:</label><i>${change.value.type}</i>`},
                   'register-e-71' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `Typ:`},
                   'register-e-72' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${change.value.type}`},
                   'register-e-73' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<label>Thema:</label><i>${change.value.name}</i>`},
                   'register-e-74' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `Thema:`},
                   'register-e-75' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${change.value.name}`},
                   'register-e-76' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<label>Länge:</label><i>${change.value.wordrange}</i>`},
                   'register-e-77' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `Länge:`},
                   'register-e-78' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${change.value.wordrange}`},
                   'register-e-79' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<label>Keyword:</label><i>${change.value.keyword}</i>`},
                   'register-e-80' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `Keyword:`},
                   'register-e-81' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${change.value.keyword}`},
                   'register-e-82' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<label>Schreibstil:</label><i>${change.value.style}</i>`},
                   'register-e-83' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `Schreibstil:`},
                   'register-e-84' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${change.value.style}`},
                   'register-e-85' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<label>Zielgruppe:</label><i>${change.value.aim}</i>`},
                   'register-e-86' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `Zielgruppe:`},
                   'register-e-87' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${change.value.aim}`},
                   'register-e-91' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${change.value.msg}`},
                   'register-e-92' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<div class="step-container s"> <span class="step active" data-index="1" data-events="step:click">${_t('1')}</span> <span class="step" data-index="2" data-events="step:click">${_t('2')}</span> <span class="step" data-index="3" data-events="step:click">${_t('3')}</span> </div>`},
                   'register-e-93' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<span class="step active" data-index="1" data-events="step:click">${_t('1')}</span> <span class="step" data-index="2" data-events="step:click">${_t('2')}</span> <span class="step" data-index="3" data-events="step:click">${_t('3')}</span>`},
                   'register-e-94' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${_t('1')}`},
                   'register-e-95' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${_t('2')}`},
                   'register-e-96' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${_t('3')}`},
                   'register-e-97' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<button type="submit" data-name="/$user/submit">${_t('Absenden')}</button>`},
                   'register-e-98' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `${_t('Absenden')}`},
                   'register' : function (args) { let {change, bottommenu,home,login,modal,notFound,register,signin,todo,topmenu,user, _t, env} = args; return `<extend-head data-id="register-e-1" data-view="register-e-1"> <title data-id="register-e-2" data-view="register-e-2">${_t("Hier kannst du dich registrieren")}</title> </extend-head> <page data-id="register-e-3" data-view="register-e-3"> <topmenu-component data-name="/$topmenu"><component data-name="topmenu" data-id="topmenu" data-view="topmenu"><navgation data-id="topmenu-e-1" data-view="topmenu-e-1"> <div class="logo" data-id="topmenu-e-2" data-view="topmenu-e-2"><img src="/img/topmenu/logo_serialtexter.png" alt="no image" data-id="topmenu-e-3" data-view="topmenu-e-3"></div> <div class="hamburger" data-events="hamburger:click" data-id="topmenu-e-4" data-view="topmenu-e-4"> <div class="hamburg" data-id="topmenu-e-5" data-view="topmenu-e-5"> <span class="line" data-id="topmenu-e-6" data-view="topmenu-e-6"></span> <span class="line" data-id="topmenu-e-7" data-view="topmenu-e-7"></span> <span class="line" data-id="topmenu-e-8" data-view="topmenu-e-8"></span> </div> </div> <ul id="menu" data-type="list" data-id="topmenu-e-9" data-view="topmenu-e-9"> <li data-name="/$topmenu/link" data-id="topmenu-e-10" data-view="topmenu-e-10"><a href="${env.view.url('start')}" class="${env.view.isActive('start')}" data-id="topmenu-e-11" data-view="topmenu-e-11">${_t('start')}</a></li> <li data-name="/$topmenu/link" data-id="topmenu-e-12" data-view="topmenu-e-12"><a href="${env.view.url('login')}" class="${env.view.isActive('login')}" data-id="topmenu-e-13" data-view="topmenu-e-13">${_t('login')}</a></li> <li data-name="/$topmenu/link" data-id="topmenu-e-14" data-view="topmenu-e-14"><a href="${env.view.url('register')}" class="${ env.view.isActive('register') }" data-id="topmenu-e-15" data-view="topmenu-e-15">${_t('registrieren')}</a></li> <li data-name="/$topmenu/link" data-id="topmenu-e-16" data-view="topmenu-e-16"><a href="${env.view.url('blog')}" class="${env.view.isActive('blog')}" data-id="topmenu-e-17" data-view="topmenu-e-17">${_t('blog')}</a></li> </ul> </navgation><style data-id="home-e-17" data-view="home-e-17">navgation { display: flex; justify-content: space-between; } navgation .logo { width: 15em; } navgation .hamburger { top: 0; font-size: 1em; display: block; z-index: 2; } navgation .hamburg { display: block; width: 2.14em; height: 2em; position: relative; margin: auto; border-radius: 4px; transition: border-radius .5s; } navgation .line { position: absolute; height: 5px; width: inherit; background: #403d3d; border-radius: 32px; display: block; transition: 0.5s; transform-origin: center; } navgation .line:nth-child(1) { top: 12px; } navgation .line:nth-child(2) { top: 24px; } navgation .line:nth-child(3) { top: 36px; } navgation .hamburger.checked .line:nth-child(1) { transform: translateY(12px) rotate(-45deg); } navgation .hamburger.checked .line:nth-child(2) { opacity: 0; } navgation .hamburger.checked .line:nth-child(3) { transform: translateY(-12px) rotate(45deg); } navgation #menu { position: absolute; width: 100%; display: none; background: white; list-style-type: none; top: 0; margin: 0; padding: 0; } navgation #menu:hover { display: block; } navgation #menu li { display: block; line-height: 50px; text-align: center; } navgation #menu a { color: #999; } navgation #menu a:hover { text-decoration: none; color: #0076d1; } navgation #menu a.active { color: #0076d1; font-weight: 500; } navgation .hamburger:hover ~ #menu, navgation .hamburger.checked ~ #menu { display: block; padding: 0; margin: 0; left: 0; right: 0; } @media only screen and (min-width: 768px) { navgation .hamburger { display: none; } navgation #menu { display: flex; position: static; background: none; clear: none; flex: 1; justify-content: flex-end; } navgation #menu:hover { display: flex; } navgation #menu li { padding: 0 1em; } }</style></component></topmenu-component> <section data-id="register-e-5" data-view="register-e-5"> <form id="register" data-id="register-e-6" data-view="register-e-6"> <modal-component data-name="/$modal"><component data-name="modal" data-id="modal" data-view="modal"><div id="${modal.name}" class="modal" data-events="close:click" data-name="/$modal/show" data-id="modal-e-1" data-view="modal-e-1"> <!-- Modal content --> <div class="modal-content" data-id="modal-e-2" data-view="modal-e-2"> <div class="modal-header" data-id="modal-e-3" data-view="modal-e-3"> <h2 data-id="modal-e-4" data-view="modal-e-4" data-name="/$modal/header">${modal.header}</h2> </div> <div class="modal-body" data-id="modal-e-5" data-view="modal-e-5" data-name="/$modal/body"> ${modal.body} </div> <div class="modal-footer" data-id="modal-e-6" data-view="modal-e-6" data-name="/$modal/footer"> ${modal.footer} </div> </div> <style data-id="modal-e-7" data-view="modal-e-7"> #${modal.name}{ display:${modal.show?'flex':'none'}; } </style> </div><style data-id="signin-e-21" data-view="signin-e-21">/* The Modal (background) */ .modal { display: none; /* Hidden by default */ position: fixed; /* Stay in place */ z-index: 2; /* Sit on top */ left: 0; top: 0; width: 100%; /* Full width */ height: 100%; /* Full height */ overflow: auto; /* Enable scroll if needed */ background-color: black; /* Fallback color */ background-color: rgba(0, 0, 0, 0.4); /* Black w/ opacity */ /* Modal Header */ /* Modal Body */ /* Modal Footer */ /* Modal Content */ /* Add Animation */ } .modal .modal-header h2 { margin: 0; } .modal .modal-body { padding: 1em; overflow: auto; max-height: 70vh; } .modal .modal-footer { color: gray; } .modal .modal-content { max-height: 100vh; position: relative; background-color: #fefefe; margin: auto; padding: 1em; border: 1px solid #888; width: 80%; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); animation-name: animatetop; animation-duration: 0.4s; } @keyframes animatetop { from { top: -50vh; opacity: 0; } to { top: 0; opacity: 1; } } /* Modal Content/Box */ .modal-content { background-color: #fefefe; margin: 15% auto; /* 15% from the top and centered */ padding: 20px; border: 1px solid #888; width: 80%; /* Could be more or less, depending on screen size */ } /* The Close Button */ .close { color: #aaa; float: right; font-size: 28px; font-weight: bold; } .close:hover, .close:focus { color: black; text-decoration: none; cursor: pointer; }</style></component></modal-component> <div class="step1 stepTab show" data-id="register-e-8" data-view="register-e-8"> <h2 data-id="register-e-9" data-view="register-e-9">${_t('Persönliche Daten')}</h2> <div class="container" data-id="register-e-10" data-view="register-e-10"> <div class="item biefroest" data-id="register-e-11" data-view="register-e-11"> <div class="triangle-right" data-id="register-e-12" data-view="register-e-12"></div> </div> <div class="item" data-id="register-e-13" data-view="register-e-13"> <label for="vname" data-id="register-e-14" data-view="register-e-14">${_t('Vorname')}</label> <input id="vname" data-name="/$user/forename" name="forename" value="${user.forename}" tabindex="0" required data-validations="required_validator" data-id="register-e-15" data-view="register-e-15"> <label for="street" data-id="register-e-16" data-view="register-e-16">${_t('Straße')}</label> <div class="address" data-id="register-e-17" data-view="register-e-17"> <input id="street" name="street" placeholder="${_t('Straßenname')}" value="${user.street}" data-name="/$user/street" required data-validations="required_validator" data-id="register-e-18" data-view="register-e-18"> <input id="nr" name="number" placeholder="${_t('Nr.')}" type="number" value="${user.nr}" data-name="/$user/nr" required data-validations="required_validator" data-id="register-e-19" data-view="register-e-19"> </div> <label for="country" data-id="register-e-20" data-view="register-e-20">${_t('Land')}</label> <select id="country" name="country" data-name="/$user/country" required data-validations="required_validator" data-id="register-e-21" data-view="register-e-21"></select> <label for="bname" data-id="register-e-22" data-view="register-e-22">${_t('Benutzername')}</label> <input id="bname" name="username" data-name="/$user/username" required value="${user.username}" data-validations="required_validator" data-id="register-e-23" data-view="register-e-23"> <label for="passwd" data-id="register-e-24" data-view="register-e-24">${_t('Passwort')}</label> <input type="password" data-validations="required_validator" data-name="/$user/password" id="passwd" required pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,12}$" data-id="register-e-25" data-view="register-e-25"> </div> <div class="item" data-id="register-e-26" data-view="register-e-26"> <label for="nname" data-id="register-e-27" data-view="register-e-27">${_t('Nachname')}</label> <input id="nname" name="surname" data-name="/$user/surname" required value="${user.surname}" data-validations="required_validator" data-id="register-e-28" data-view="register-e-28"> <label for="street" data-id="register-e-29" data-view="register-e-29">${_t('Wo?')}</label> <div class="location" data-id="register-e-30" data-view="register-e-30"> <input id="pcode" name="postalcode" placeholder="${_t('PLZ')}" data-name="/$user/pcode" type="number" value="${user.pcode}" required data-validations="required_validator" data-id="register-e-31" data-view="register-e-31"> <input id="city" name="city" placeholder="${_t('Stadt')}" data-name="/$user/city" required value="${user.city}" data-validations="required_validator" data-id="register-e-32" data-view="register-e-32"> </div> <label for="birthday" data-id="register-e-33" data-view="register-e-33">${_t('Geburtsdatum')}</label> <input id="birthday" name="birthday" data-name="/$user/birthday" type="date" value="${user.date}" data-id="register-e-34" data-view="register-e-34"> <label for="email" data-id="register-e-35" data-view="register-e-35">${_t('E-Mail')}</label> <input id="email" name="email" type="email" data-name="/$user/email" required value="${user.email}" data-validations="mail_validator,required_validator" data-id="register-e-36" data-view="register-e-36"> <span data-name="/_state/$user/email" class="msg ${ change.value.msg ? 'error':''}" data-id="register-e-37" data-view="register-e-37">${ change.value.msg ? change.value.msg.map(function(e){return e}) : "" }</span> <label for="passwdr" data-id="register-e-38" data-view="register-e-38">${_t('Passwort wiederholen')}</label> <input type="password" data-validations="required_validator" data-name="/$user/passwordr" id="passwdr" required pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,12}$" data-id="register-e-39" data-view="register-e-39"> </div> </div> </div> <div class="step2 stepTab" data-id="register-e-40" data-view="register-e-40"> <h2 data-id="register-e-41" data-view="register-e-41">${_t('Fähigkeiten')}</h2> <div class="container" data-id="register-e-42" data-view="register-e-42"> <div class="item biefroest" data-id="register-e-43" data-view="register-e-43"> <div class="triangle-right" data-id="register-e-44" data-view="register-e-44"></div> </div> <div class="item" data-id="register-e-45" data-view="register-e-45"> <label for="skills" data-id="register-e-46" data-view="register-e-46">${_t('Lieblings-Themen')}</label> <select multiple id="skills" name="skills" data-name="/$user/skills" required data-validations="required_validator" data-id="register-e-47" data-view="register-e-47"></select> <label for="skills" data-id="register-e-48" data-view="register-e-48">${_t('SEO Erfahrung')} <span class="seometer" data-name="/$user/seoLevel" data-view="seometer" data-id="register-e-49">keine</span></label> <div class="slidecontainer" data-id="register-e-50" data-view="register-e-50"> <input type="range" min="1" max="100" value="${user.seoLevel}" data-name="/$user/seoLevel" class="slider" id="myRange" data-id="register-e-51" data-view="register-e-51"> </div> </div> <div class="item" data-id="register-e-52" data-view="register-e-52"> <label for="langs" data-id="register-e-53" data-view="register-e-53">${_t('Sprachen')}</label> <select multiple id="langs" name="langs" data-name="/$user/langs" data-id="register-e-54" data-view="register-e-54"></select> <label for="refs" data-id="register-e-55" data-view="register-e-55">${_t('Erfahrung mit Texten')}</label> <select multiple id="refs" name="refs" data-name="/$user/refs" data-id="register-e-56" data-view="register-e-56"></select> <div data-name="/$user/refs" data-view="refsList" data-type="list" data-id="register-e-57"></div> </div> </div> </div> <div class="step3 stepTab" data-id="register-e-58" data-view="register-e-58"> <h2 data-id="register-e-59" data-view="register-e-59">${_t('Kurzer Text')}</h2> <p data-id="register-e-60" data-view="register-e-60"><i data-id="register-e-61" data-view="register-e-61">${_t('Bitte schreibe uns doch ein paar Worte damit wir deine Fähigkeiten besser')} <strong data-id="register-e-62" data-view="register-e-62">${_t('einschätzen')}</strong> ${_t('können.')}</i></p> <hr data-id="register-e-63" data-view="register-e-63"> <div class="topic-container" data-id="register-e-64" data-view="register-e-64"> <select data-events="variante:change" data-id="register-e-65" data-view="register-e-65"> <option value="0" data-id="register-e-66" data-view="register-e-66">${_t('Reiseort deiner Wahl')}</option> <option value="1" data-id="register-e-67" data-view="register-e-67">${_t('online-shop deiner Wahl')}</option> <option value="2" data-id="register-e-68" data-view="register-e-68">${_t('Firma deiner Wahl')}</option> </select> <div data-name="/$user/topicInfo" class="infos" data-id="register-e-69" data-view="register-e-69"> <div data-id="register-e-70" data-view="register-e-70"><label data-id="register-e-71" data-view="register-e-71">Typ:</label><i data-id="register-e-72" data-view="register-e-72" data-name="/$change/value/type">${change.value.type}</i></div> <div data-id="register-e-73" data-view="register-e-73"><label data-id="register-e-74" data-view="register-e-74">Thema:</label><i data-id="register-e-75" data-view="register-e-75" data-name="/$change/value/name">${change.value.name}</i></div> <div data-id="register-e-76" data-view="register-e-76"><label data-id="register-e-77" data-view="register-e-77">Länge:</label><i data-id="register-e-78" data-view="register-e-78" data-name="/$change/value/wordrange">${change.value.wordrange}</i></div> <div data-id="register-e-79" data-view="register-e-79"><label data-id="register-e-80" data-view="register-e-80">Keyword:</label><i data-id="register-e-81" data-view="register-e-81" data-name="/$change/value/keyword">${change.value.keyword}</i></div> <div data-id="register-e-82" data-view="register-e-82"><label data-id="register-e-83" data-view="register-e-83">Schreibstil:</label><i data-id="register-e-84" data-view="register-e-84" data-name="/$change/value/style">${change.value.style}</i></div> <div data-id="register-e-85" data-view="register-e-85"><label data-id="register-e-86" data-view="register-e-86">Zielgruppe:</label><i data-id="register-e-87" data-view="register-e-87" data-name="/$change/value/aim">${change.value.aim}</i></div> </div> </div> <hr data-id="register-e-88" data-view="register-e-88"> <textarea class="sample-text" data-name="/$user/sampletext" data-validations="wordlength_validator" placeholder="Keine Angst, es ist noch kein Meister vom Himmel gefallen!" data-id="register-e-89" data-view="register-e-89"></textarea> <span data-name="/$user/sampletext" data-view="wordcount" data-id="register-e-90"></span> <span data-name="/_state/$user/sampletext" data-id="register-e-91" data-view="register-e-91">${change.value.msg}</span> </div> <div data-id="register-e-92" data-view="register-e-92"> <div class="step-container s" data-id="register-e-93" data-view="register-e-93"> <span class="step active" data-index="1" data-events="step:click" data-id="register-e-94" data-view="register-e-94">${_t('1')}</span> <span class="step" data-index="2" data-events="step:click" data-id="register-e-95" data-view="register-e-95">${_t('2')}</span> <span class="step" data-index="3" data-events="step:click" data-id="register-e-96" data-view="register-e-96">${_t('3')}</span> </div> </div> <div class="button-container" data-id="register-e-97" data-view="register-e-97"> <button type="submit" data-name="/$user/submit" data-id="register-e-98" data-view="register-e-98">${_t('Absenden')}</button> </div> </form> </section> <bottommenu-component data-name="/$bottommenu"><component data-name="bottommenu" data-id="bottommenu" data-view="bottommenu"><footer data-id="bottommenu-e-1" data-view="bottommenu-e-1"> <div class="logo" data-id="bottommenu-e-2" data-view="bottommenu-e-2"> <img src="/img/topmenu/logo64.png" alt="no image" data-id="bottommenu-e-3" data-view="bottommenu-e-3"> </div> <div class="PRODUCT" data-id="bottommenu-e-4" data-view="bottommenu-e-4"> <h3 data-id="bottommenu-e-5" data-view="bottommenu-e-5">${_t('Mehr')}</h3> <ul data-type="list" data-id="bottommenu-e-6" data-view="bottommenu-e-6"> <li data-id="bottommenu-e-7" data-view="bottommenu-e-7"> <a href="#/all" class="selected" data-id="bottommenu-e-8" data-view="bottommenu-e-8">${_t('Website Content')}</a> </li> <li data-id="bottommenu-e-9" data-view="bottommenu-e-9"> <a href="#/active" data-id="bottommenu-e-10" data-view="bottommenu-e-10">${_t('Blog Artikel')}</a> </li> <li data-id="bottommenu-e-11" data-view="bottommenu-e-11"> <a href="#/completed" data-id="bottommenu-e-12" data-view="bottommenu-e-12">${_t('Seo Optimierte Inhalte')}</a> </li> <li data-id="bottommenu-e-13" data-view="bottommenu-e-13"> <a href="/Impressum" data-id="bottommenu-e-14" data-view="bottommenu-e-14">${_t('Impressum')}</a> </li> </ul> </div> <div class="BLOG" data-id="bottommenu-e-15" data-view="bottommenu-e-15"> <h3 data-id="bottommenu-e-16" data-view="bottommenu-e-16">${_t('Blog')}</h3> <ul data-type="list" data-id="bottommenu-e-17" data-view="bottommenu-e-17"> <li data-id="bottommenu-e-18" data-view="bottommenu-e-18"> <a href="#/all" class="selected" data-id="bottommenu-e-19" data-view="bottommenu-e-19">${_t('Wie schreibt man richtig?')}</a> </li> <li data-id="bottommenu-e-20" data-view="bottommenu-e-20"> <a href="#/active" data-id="bottommenu-e-21" data-view="bottommenu-e-21">${_t('SEO-Tricks')}</a> </li> <li data-id="bottommenu-e-22" data-view="bottommenu-e-22"> <a href="#/completed" data-id="bottommenu-e-23" data-view="bottommenu-e-23">${_t('News')}</a> </li> </ul> </div> <div class="followus" data-id="bottommenu-e-24" data-view="bottommenu-e-24"> <h3 data-id="bottommenu-e-25" data-view="bottommenu-e-25">${_t('Follow us')}</h3> <svg style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1" xmlns="http://www.w3.org/2000/svg" data-id="bottommenu-e-26" data-view="bottommenu-e-26"> <defs data-id="bottommenu-e-27" data-view="bottommenu-e-27"> <symbol id="icon-twitter-with-circle" viewBox="0 0 20 20" data-id="bottommenu-e-28" data-view="bottommenu-e-28"> <title data-id="bottommenu-e-29" data-view="bottommenu-e-29">${_t('twitter-with-circle')}</title> <path d="M10 0.4c-5.302 0-9.6 4.298-9.6 9.6s4.298 9.6 9.6 9.6 9.6-4.298 9.6-9.6-4.298-9.6-9.6-9.6zM13.905 8.264c0.004 0.082 0.005 0.164 0.005 0.244 0 2.5-1.901 5.381-5.379 5.381-1.068 0-2.062-0.312-2.898-0.85 0.147 0.018 0.298 0.025 0.451 0.025 0.886 0 1.701-0.301 2.348-0.809-0.827-0.016-1.525-0.562-1.766-1.312 0.115 0.021 0.233 0.033 0.355 0.033 0.172 0 0.34-0.023 0.498-0.066-0.865-0.174-1.517-0.938-1.517-1.854v-0.023c0.255 0.141 0.547 0.227 0.857 0.237-0.508-0.34-0.841-0.918-0.841-1.575 0-0.346 0.093-0.672 0.256-0.951 0.933 1.144 2.325 1.896 3.897 1.977-0.033-0.139-0.049-0.283-0.049-0.432 0-1.043 0.846-1.891 1.891-1.891 0.543 0 1.035 0.23 1.38 0.598 0.431-0.086 0.835-0.242 1.2-0.459-0.141 0.441-0.44 0.812-0.831 1.047 0.383-0.047 0.747-0.148 1.086-0.299-0.253 0.379-0.574 0.713-0.943 0.979z" data-id="bottommenu-e-30" data-view="bottommenu-e-30"> </path> </symbol> <symbol id="icon-youtube-with-circle" viewBox="0 0 20 20" data-id="bottommenu-e-31" data-view="bottommenu-e-31"> <title data-id="bottommenu-e-32" data-view="bottommenu-e-32">${_t('youtube-with-circle')}</title> <path d="M11.603 9.833l-2.246-1.048c-0.196-0.091-0.357 0.011-0.357 0.228v1.974c0 0.217 0.161 0.319 0.357 0.228l2.245-1.048c0.197-0.092 0.197-0.242 0.001-0.334zM10 0.4c-5.302 0-9.6 4.298-9.6 9.6s4.298 9.6 9.6 9.6 9.6-4.298 9.6-9.6-4.298-9.6-9.6-9.6zM10 13.9c-4.914 0-5-0.443-5-3.9s0.086-3.9 5-3.9 5 0.443 5 3.9-0.086 3.9-5 3.9z" data-id="bottommenu-e-33" data-view="bottommenu-e-33"> </path> </symbol> <symbol id="icon-instagram-with-circle" viewBox="0 0 20 20" data-id="bottommenu-e-34" data-view="bottommenu-e-34"> <title data-id="bottommenu-e-35" data-view="bottommenu-e-35">${_t('instagram-with-circle')}</title> <path d="M13 10c0 1.657-1.343 3-3 3s-3-1.343-3-3c0-0.171 0.018-0.338 0.049-0.5h-1.049v3.997c0 0.278 0.225 0.503 0.503 0.503h6.995c0.277 0 0.502-0.225 0.502-0.503v-3.997h-1.049c0.031 0.162 0.049 0.329 0.049 0.5zM10 12c1.104 0 2-0.896 2-2s-0.896-2-2-2-2 0.896-2 2 0.896 2 2 2zM12.4 7.9h1.199c0.166 0 0.301-0.135 0.301-0.3v-1.199c0-0.166-0.135-0.301-0.301-0.301h-1.199c-0.166 0-0.301 0.135-0.301 0.301v1.199c0.001 0.165 0.136 0.3 0.301 0.3zM10 0.4c-5.302 0-9.6 4.298-9.6 9.6s4.298 9.6 9.6 9.6c5.302 0 9.6-4.298 9.6-9.6s-4.298-9.6-9.6-9.6zM15 13.889c0 0.611-0.5 1.111-1.111 1.111h-7.778c-0.611 0-1.111-0.5-1.111-1.111v-7.778c0-0.611 0.5-1.111 1.111-1.111h7.778c0.611 0 1.111 0.5 1.111 1.111v7.778z" data-id="bottommenu-e-36" data-view="bottommenu-e-36"> </path> </symbol> <symbol id="icon-facebook-with-circle" viewBox="0 0 20 20" data-id="bottommenu-e-37" data-view="bottommenu-e-37"> <title data-id="bottommenu-e-38" data-view="bottommenu-e-38">${_t('facebook-with-circle')}</title> <path d="M10 0.4c-5.302 0-9.6 4.298-9.6 9.6s4.298 9.6 9.6 9.6 9.6-4.298 9.6-9.6-4.298-9.6-9.6-9.6zM12.274 7.034h-1.443c-0.171 0-0.361 0.225-0.361 0.524v1.042h1.805l-0.273 1.486h-1.532v4.461h-1.703v-4.461h-1.545v-1.486h1.545v-0.874c0-1.254 0.87-2.273 2.064-2.273h1.443v1.581z" data-id="bottommenu-e-39" data-view="bottommenu-e-39"> </path> </symbol> </defs> </svg> <svg height="30px" width="30px" data-id="bottommenu-e-40" data-view="bottommenu-e-40"> <use xlink:href="#icon-facebook-with-circle" data-id="bottommenu-e-41" data-view="bottommenu-e-41"></use> </svg> <svg height="30px" width="30px" data-id="bottommenu-e-42" data-view="bottommenu-e-42"> <use xlink:href="#icon-instagram-with-circle" data-id="bottommenu-e-43" data-view="bottommenu-e-43"></use> </svg> <svg height="30px" width="30px" data-id="bottommenu-e-44" data-view="bottommenu-e-44"> <use xlink:href="#icon-twitter-with-circle" data-id="bottommenu-e-45" data-view="bottommenu-e-45"></use> </svg> <svg height="30px" width="30px" data-id="bottommenu-e-46" data-view="bottommenu-e-46"> <use xlink:href="#icon-youtube-with-circle" data-id="bottommenu-e-47" data-view="bottommenu-e-47"></use> </svg> </div> </footer><style data-id="home-e-24" data-view="home-e-24">bottommenu-component footer { margin: 4em 0 0 0; display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; grid-template-rows: 1fr; gap: 0px 0px; grid-template-areas: "logo PRODUCT BLOG followus"; } bottommenu-component footer .logo { grid-area: logo; display: flex; align-items: center; justify-content: center; } bottommenu-component footer ul { list-style-type: none; margin: 0; padding: 0; } @media only screen and (max-width: 768px) { bottommenu-component footer { display: block; } bottommenu-component footer div { text-align: center; } } bottommenu-component .PRODUCT { grid-area: PRODUCT; } bottommenu-component .BLOG { grid-area: BLOG; } bottommenu-component .followus { grid-area: followus; }</style></component></bottommenu-component> </page>`},
                   'seometer' : function (args) {
        let { user } = args;
        let seoLevel = ["keine", "wenig", "beginner", "mittel", "fortgeschritten", "Experte"];
        return seoLevel[parseInt(user.seoLevel / (100 / (seoLevel.length - 1)))];
      },
                   'wordcount' : function (args) {
        let { change } = args;
        return "Wörter:" + countWords(change.value);
      },
                   'refsList' : function (args) {
        let { change, user, _t } = args;
        return `<div data-name="/$user/refs/${change.index}" data-type="list-item" >
          <strong>${change.value}</strong> <input data-name="/$user/refsdetail/${change.index}" data-index="${change.index}" data-events="refsdetail:keyup" value="${user.refsdetail[change.index] ? user.refsdetail[change.index] : ''}" placeholder="${change.value} angeben" />
        </div>`;
      },
                   'success' : function (args) {
        let { change, user } = args;
        return `<p>Schön das du da bist <strong>${user.forename}</strong>!</p>
        <p>bitte prüfe noch deine E-Mails.</p>
        <p>Sobald du den Bestätigungslink aufgerufen hast wird dein Account aktiviert.</p>`;
      },
                   'failed' : function (args) {
        let { change, user, modal } = args;
        return `<p>Hallo ${user.forename}, bitte prüfe nochmal deine Angaben.</p>
        <p>Unser System sagt nämlich: <strong>${modal.error}</strong></p>`;
      } },
            "style":"@import url(/css/slimselect.css); #register { display: grid; justify-content: center; align-content: center; /* Make circles that indicate the steps of the form: */ /* Mark the active step: */ /* Mark the steps that are finished and valid: */ } @media only screen and (max-width: 640px) { #register { justify-content: stretch; } } #register .topic-container { display: flex; flex-direction: column; } #register .stepTab { position: absolute; visibility: hidden; transition: opacity 0.4s ease-out; opacity: 0; min-height: 50vh; } #register .stepTab .slidecontainer { display: none; } #register .step2 .item { display: block; } #register .stepTab.show { position: relative; visibility: visible; opacity: 1; } #register .stepTab.show .slidecontainer { display: flex; } #register .infos > div { display: flex; } #register .infos label { font-weight: 600; min-width: 6em; margin-right: 5px; text-align: end; } #register .infos i { color: #5c5b5b; } #register .sample-text { min-height: 380px; box-shadow: inset 0 1px 4px #9e9e9e; } #register .slidecontainer { display: flex; margin-right: 6px; } #register .slidecontainer .slider { background: linear-gradient(to right, #ffffff, #fae5bd, #4bf367, #004700); flex-grow: 1; margin: 0; } #register .slidecontainer .slider:active { transform: translateY(0); } #register .slidecontainer .slider:focus { box-shadow: none; } #register .slidecontainer .slider::-webkit-slider-thumb { margin-top: -10px; -webkit-appearance: none; /* Override default look */ appearance: none; width: 29px; /* Set a specific slider handle width */ height: 29px; /* Slider handle height */ background: #718072; cursor: pointer; /* Cursor on hover */ } #register .slidecontainer .slider::-moz-range-thumb { margin-top: -10px; width: 29px; /* Set a specific slider handle width */ height: 29px; /* Slider handle height */ background: #718072; cursor: pointer; /* Cursor on hover */ } #register .seometer { font-weight: 600; } #register .step-container { text-align: center; margin: 40px; } #register #country option { display: none; } #register .ss-main .ss-single-selected { height: 38px; background-color: #e6e6e6; margin-bottom: 6px; margin-right: 6px; width: 100%; } #register .ss-main .ss-multi-selected { margin-bottom: 6px; margin-right: 6px; width: min-content; min-width: 100%; } #register .ss-main .ss-multi-selected .ss-values .ss-value { font-size: inherit; } #register .ss-main .ss-single-selected .placeholder .ss-disabled { color: #a08888; } #register .ss-main .ss-multi-selected .ss-add { margin: auto 10px auto 0; } #register .ss-main { display: flex; min-width: 267px; } #register .address { display: flex; } #register .address input:nth-child(1) { width: 14.8em; } #register .address input:nth-child(2) { width: 2em; } #register .location { display: flex; } #register .location input:nth-child(1) { width: 5em; } #register .location input:nth-child(2) { width: 12em; } #register .triangle-right { transition: all ease 500ms; transition-property: margin-left, margin-top, border-color; z-index: 1; position: absolute; margin-top: 21px; margin-left: -6px; width: 0; height: 0; border-radius: 24px; border-top: 25px solid transparent; border-left: 50px solid #66c166; border-bottom: 25px solid transparent; opacity: 0.78; } #register .triangle-right.triangle-error { border-left: 50px solid red; } #register .step { cursor: pointer; height: 2em; width: 2em; margin: 0 0.5em; background-color: #bbbbbb; border: none; border-radius: 50%; display: inline-block; opacity: 0.5; line-height: 2em; font-weight: 400; box-shadow: 0px 3px 7px #737171; } #register .step:hover { color: #0076d1; } #register .step.active { opacity: 1; font-weight: 800; } #register .step.finish { background-color: #4CAF50; } #register .container { position: relative; display: grid; grid-template-columns: 20px 0fr 0fr; grid-template-rows: 1fr 0fr; gap: 0px 1.5em; grid-template-areas: \". . .\"; } @media only screen and (max-width: 640px) { #register .container { flex-direction: column; display: flex; } } #register .s { grid-area: s; } #register .item { min-height: auto; display: grid; } @media only screen and (max-width: 640px) { #register .item { width: 100%; } } #register .error { box-shadow: #f31010 0px 0px 4px 0px; border: 1px solid red; display: block; } #register span.msg { position: relative; background-color: #fbfbd7; display: block; } #register .biefroest { background-image: url(\"img/register/biefrost_thin.jpg\"); background-size: cover; background-position-x: center; }","path":"/page/register.js",
    mounted() {

      console.log("mounted", this);
      window.countWords = countWords;
      window.onresize = function () {
        document.querySelector(".triangle-right").style.display = "none";
      };
    },
    components: {
      "topmenu-component": "topmenu#mainmenu",
      "bottommenu-component": "bottommenu#footermenu",
      "modal-component": "modal#partial"
    },
    data() {
      return this
        .createStore("user", {
          name: "user login", "refs": [],
          "refsdetail": [],
          "topicInfo": {},
          "step": 1,
          "latest": 1,
          "variante": 0,
          "forename": "",
          "surname": "",
          "street": "",
          "country": [],
          "pcode": "",
          "city": "",
          "email": "",
          "nr": "",
          "birthday": "",
          "username": "",
          "password": "",
          "passwordr": "",
          "seoLevel": "",
          "skills": [],
          "langs": [],
          "sampletext": ""
        })
        .addValidations({ mail_validator, required_validator, wordlength_validator });
    },
    interactions() {
      return magic_form.call(this, {
        "register": {
            postRender(component) {
              import('../deps/slimselect.js')
                .then((slimSelect) => {

                  import('./i18n/de_DE/countries.js')
                    .then((module) => {
                      if (typeof window.countryS === "undefined")
                        window.countryS = new slimSelect.default({
                          select: '#country',
                          data: module.countries
                        });
                    });

                  import('./i18n/de_DE/topics.js')
                    .then((module) => {
                      new slimSelect.default({
                        select: '#skills',
                        data: module.topics
                      });
                    });

                  import('./i18n/de_DE/langs.js')
                    .then((module) => {
                      new slimSelect.default({
                        select: '#langs',
                        data: module.langs
                      });
                    });

                  import('./i18n/de_DE/refs.js')
                    .then((module) => {
                      new slimSelect.default({
                        select: '#refs',
                        data: module.refs
                      });
                    });

                });

              import('./i18n/de_DE/textTopics.js')
                .then((module) => {

                  component.store._data.topicInfo = module.textTopics[0];
                  // component.store._data.sampletext = module.textTopics[0].starter;
                  component.store._data.variante = 0;
                  window.textVarianten = module.textTopics;

                });

            }
          },
          "step": {
            click(change, state) {
              change.ev.preventDefault();

              let step = change.field.$el.getAttribute("data-index");
              if (change.step >= step) {
                document.querySelectorAll(".stepTab").forEach((e) => e.classList.remove("show"));
                document.querySelector(`.step${step}`).classList.add("show");

                document.querySelectorAll(".step").forEach((e) => e.classList.remove("active"));
                document.querySelector(`.step[data-index="${step}"]`).classList.add("active");
                window.scrollTo(0, 0);
                state.step = parseInt(step);
                if (state.latest <= state.step) state.latest = state.step;
              }

            }
          },
          "/$user/submit": {
            click(change, state) {
              change.ev.preventDefault();

              let inputs = document.querySelector("form").elements;
              let paths = { "step1": { fields: [] }, "step2": { fields: [] }, "step3": { fields: [] } };

              for (let i = 0; i < inputs.length; i++) {
                for (let s in paths) {
                  if (!paths.hasOwnProperty(s)) continue;
                  if (inputs[i].hasAttribute("data-name")) {
                    if (document.querySelector(`form .${s}`).contains(inputs[i])) {

                      let n = inputs[i].getAttribute("data-name");
                      let tr = this.store.validateField(n, this.store.accessByPath(n));
                      if (!tr.isValid) {
                        paths[s].fields.push(tr);
                        inputs[i].classList.add("error");
                      } else {
                        inputs[i].classList.remove("error");
                      }

                    }
                  }
                }
              }

              let latestCorrect = false;
              for (let s in paths) {
                if (!paths.hasOwnProperty(s)) continue;
                if (paths[s].fields.length > 0) {
                  break;
                } else {
                  latestCorrect = parseInt(s.replace(/^.*?(\d+).*/, '$1'));
                }
              }

              if (latestCorrect) {

                if (latestCorrect < 3) {
                  state.step = latestCorrect + 1;
                  document.querySelector(`.step[data-index="${state.step}"]`).click();
                } else if (latestCorrect === 3) {
                  //submit all
                  let uData = JSON.parse(JSON.stringify(state));
                  uData.seoLevel = parseInt(uData.seoLevel);
                  uData.country = uData.country[0];

                  let errorFnc = async (error) => {
                    let tmpE = await error.json();
                    this.store.dataH.pxy.$modal.error = tmpE.message.map(e => e.messages.map(a => a.message)).join(" ");
                    this.store.dataH.pxy.$modal.body = this.dom.views.failed.call(this, { change, user: state, modal: this.store.dataH.pxy.$modal });
                    this.store.dataH.pxy.$modal.show = true;
                  };

                  fetch('http://localhost:1337/auth/local/register', {
                    method: 'POST',
                    headers: {
                      'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(uData),
                  })
                    .then(async response => {
                      if (response.status !== 200) return await errorFnc.call(this, response);

                      this.store.dataH.pxy.$modal.header = "Danke für deinen Einsatz";
                      this.store.dataH.pxy.$modal.body = this.dom.views.success.call(this, { change, user: state });

                      this.store.dataH.pxy.$modal.show = true;

                      cookie.set('tk', response.jwt, { expires: 7 });
                      cookie.set('user', JSON.stringify(response.user), { expires: 7 });

                    })
                    .catch(errorFnc);


                }

              }

            }
          },
          "variante": {
            change(sender, state) {

              let val = sender.field.getValue();
              state.topicInfo = textVarianten[val];
            }
          },
          "refsdetail": {
            keyup(sender, dataStore) {
              let id = parseInt(sender.field.$el.getAttribute("data-index"));
              dataStore.refsdetail[id] = sender.field.getValue();
            }
          },
          "/_state/$user/email/msg": {
            change(change, state) {
              if (!state.isValid) {
                this.$el.querySelector("#email").classList.add("error");
              } else {
                this.$el.querySelector("#email").classList.remove("error");
              }
              console.log(change, state);
            }
          },
          "/_state": {
            change(change, state) {
              if (document.activeElement) {
                let $elTriangle = getParent(document.activeElement, '.container');
                if (document.querySelector("#register") && $elTriangle
                  && document.querySelector("#register").contains(document.activeElement)
                  && document.activeElement.tagName !== "BUTTON") {

                  $elTriangle = $elTriangle.querySelector(':scope .triangle-right');

                  $elTriangle.style.display = "block";
                  if (state.isValid) {
                    $elTriangle.style.marginTop = (document.activeElement.offsetTop - 5) + "px";
                    $elTriangle.style.marginLeft = (document.activeElement.offsetLeft - 45) + "px";
                    $elTriangle.classList.remove("triangle-error");
                    document.activeElement.classList.remove("error");
                  } else {
                    $elTriangle.style.marginTop = (document.activeElement.offsetTop - 5) + "px";
                    $elTriangle.style.marginLeft = (document.activeElement.offsetLeft - 45) + "px";
                    $elTriangle.classList.add("triangle-error");
                    document.activeElement.classList.add("error");

                  }
                }
              }


            }
          }

        }, "/$user", function(data) {

          console.log("CHANGE PLEASE BACKEND SYNC", data)

        });
    },
    translations() {
      return {};
    }
  }
